
<div class="wrapper">
  
  <app-sidebar></app-sidebar>
  <app-header></app-header>

  <!-- Content Wrapper -->

  <div class="content-wrapper">

      <div class="container">
          <div class="row justify-content-md-center">
              <div class="col col-lg-6 mt-5">

                <form id="quickForm" [formGroup]="form" (ngSubmit)="add_provider()" enctype="multipart/form-data">

                  <div class="form-group">
                      <label for="selectplan">Planes</label>
                      <select class="form-control" id="selectplan" formControlName="plan_id"  [class.is-invalid]="planValidate">
                        <option *ngFor="let plan of plans" value="{{ plan.id }}">
                          {{ plan.plan }}
                        </option>
                      </select>
                      <small *ngIf="planValidate" class="text-danger">Ingrese el plan</small>
                  </div>

                  <div class="form-group">
                    <label for="provider">Nombre del proveedor</label>
                    <input type="text" class="form-control" id="provider"
                    formControlName="provider"
                    [class.is-invalid]="providerValidate" autocomplete="name">
                    <small *ngIf="providerValidate" class="text-danger">Ingrese un proveedor</small>
                  </div>

                  <div class="form-group">
                    <label for="selectplan">Tipo de documento</label>
                    <select class="form-control" id="selectdocument" formControlName="type_document_id"  [class.is-invalid]="typeDocumentValidate">
                      <option value="">Selecciones un documento</option>
                      <option *ngFor="let document of typeDocuments" value="{{ document.id }}">
                        {{ document.document }}
                      </option>
                    </select>
                    <small *ngIf="typeDocumentValidate" class="text-danger">Ingrese el plan</small>
                  </div>

                  <div class="form-group">
                    <label for="num_document">Número de documento</label>
                    <input type="number" class="form-control" id="num_document"
                    formControlName="num_document"
                    [class.is-invalid]="numDocumentValidate" autocomplete="postal-code">
                    <small *ngIf="numDocumentValidate" class="text-danger">Ingrese el Nit</small>
                  </div>

                  <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" class="form-control" id="email"
                    formControlName="email"
                    [class.is-invalid]="emailValidate" autocomplete="email">
                    <small *ngIf="emailValidate" class="text-danger">Ingrese un Email</small>
                  </div>

                  <div class="form-group">
                      <label for="phone">Celular</label>
                      <input type="tel" class="form-control" id="phone"
                      formControlName="phone"
                      [class.is-invalid]="phoneValidate" autocomplete="tel">
                      <small *ngIf="phoneValidate" class="text-danger">Ingrese un Celular</small>
                  </div>

                  <div class="form-group">
                    <label for="exampleFormControlFile1">Ingrese el logo</label>
                    <input type="file" formControlName="logo" (change)="uploadImage($event)" class="form-control-file" id="exampleFormControlFile1"
                    [class.is-invalid]="logoValidate" autocomplete="text">
                    <small *ngIf="logoValidate" class="text-danger">Ingresa un logo</small>
                  </div>

                  
                  <div class="form-group mt-4">
                    <label for="">Descripción</label>
                    <textarea class="form-control" id="" rows="3"
                    formControlName="description"
                    [class.is-invalid]="descriptionValidate" autocomplete="text"></textarea>
                    <small *ngIf="descriptionValidate" class="text-danger">Ingresa la descripcion</small>
                  </div>
                  
                  <div class="form-group mt-4">
                    <label for="">Productos: ingrese los productos separarlos por "," max(15)</label>
                    <textarea class="form-control" id="" rows="3"
                    formControlName="products"
                    autocomplete="text"></textarea>
                    <small *ngIf="maxproduct" class="text-danger">Ingresa menos de 15 productos</small>
                  </div>

                  <div class="form-group mt-4">
                    <label for="">Servicios: ingrese los servicios separarlos por "," max(15)</label>
                    <textarea class="form-control" id="" rows="3"
                    formControlName="services"
                    autocomplete="text"></textarea>
                    <small *ngIf="maxservices" class="text-danger">Ingresa menos de 15 servicios</small>
                  </div>

                  <p class="mt-2"><strong>Tipo de Empresa:</strong></p>
                  <input type="text" formControlName="razon_social" class="form-control" placeholder="S.A.S, LTDA, ETC...">

                  <p class="mt-2"><strong>Tipo de Clientes que atiende:</strong></p>
                  <ng-select [items]="type_clients"
                             [closeOnSelect]="false"
                             [multiple]="true"
                             bindLabel="type_client"
                             bindValue="id"
                             labelForId="state"
                             formControlName="type_client_id">
                  </ng-select>


                  <div class="form-group mt-2">
                    <label for="selectpais">Pais Ubicación</label>
                    <ng-select [items]="countries"
                             bindLabel="country"
                             bindValue="id"
                             labelForId="state"
                             formControlName="country_id">
                    </ng-select>

                    <small *ngIf="countryValidate" class="text-danger">Ingrese el Pais</small>
                  </div>
                  
                  <div class="form-group">
                      <label for="selectcities">Ciudad Ubicación</label>
                      <ng-select [items]="cities"
                             bindLabel="city"
                             bindValue="id"
                             labelForId="state"
                             formControlName="city_id">
                      </ng-select>
                      <small *ngIf="cityValidate" class="text-danger">Ingrese la Ciudad</small>
                  </div>

                  <p class="mt-2"><strong>Paises que atiende:</strong></p>
                  <ng-select [items]="countries"
                             bindLabel="country"
                             bindValue="id"
                             labelForId="state"
                             [multiple]="true"
                             formControlName="countries_id">
                 </ng-select>

                  <p class="mt-2"><strong>Ciudades que atiende:</strong></p>
                  <ng-select [items]="cities"
                             bindLabel="city"
                             bindValue="id"
                             labelForId="state"
                             [multiple]="true"
                             formControlName="cities_id">
                 </ng-select>

                  <p class="mt-2"><strong>Categorias:</strong></p>
                  <ng-select [items]="categories"
                             [closeOnSelect]="false"
                             bindLabel="category"
                             bindValue="id"
                             labelForId="state"
                             [multiple]="true"
                             formControlName="category_id">
                 </ng-select>

                  <div class="form-group mt-2">
                    <label for="empleados">Numero de Empleados</label>
                    <input type="number" class="form-control" id="empleados"
                    formControlName="nempleados" [class.is-invalid]="numberValidate">
                    <small *ngIf="numberValidate" class="text-danger">Ingresa el numero de empleados</small>
                  </div>

                  <div class="form-group mt-4">
                    <label for="exampleFormControlTextarea1">Mencione en que se destaca</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                    formControlName="details"
                    [class.is-invalid]="detailsValidate" autocomplete="text"></textarea>
                    <small *ngIf="detailsValidate" class="text-danger">Ingrese en que se destaca</small>
                  </div>


                  <div class="form-group mt-4">
                    <label for="exampleFormControlTextarea1">Que garantia ofrece</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" rows="3"
                    formControlName="garantia"
                    [class.is-invalid]="garantiaValidate" autocomplete="text"></textarea>
                    <small *ngIf="garantiaValidate" class="text-danger">Ingresa que ofrece de garantia</small>
                  </div>

                  <div class="form-group mt-2">
                    <label for="facebook">Url Facebook</label>
                    <input type="text" class="form-control" id="facebook"
                    formControlName="facebook_url"
                    autocomplete="url">
                  </div>

                  <div class="form-group">
                    <label for="twitter">Url Twitter</label>
                    <input type="text" class="form-control" id="twitter"
                    formControlName="twitter_url"
                    autocomplete="url">
                  </div>

                  <div class="form-group">
                    <label for="instagram">Url Instagram</label>
                    <input type="text" class="form-control" id="instagram"
                    formControlName="instagram_url"
                    autocomplete="url">
                  </div>


                  <div class="form-group">
                    <label for="linkedin">Url Linkedin</label>
                    <input type="text" class="form-control" id="linkedin"
                    formControlName="linkedin_url"
                    autocomplete="url">
                  </div>

                  <div class="form-group">
                    <label for="Web">Url Sition Web</label>
                    <input type="text" class="form-control" id="Web"
                    formControlName="web_site"
                    autocomplete="url">
                  </div>
                  
                  <div class="form-group">
                    <label for="exampleFormControlFile1">Galería de imágenes</label>
                    <input type="file" multiple="" (change)="uploadImageGalery($event)" class="form-control-file" id="exampleFormControlFile1"
                    [class.is-invalid]="galeriaValidate" autocomplete="text">
                    <small *ngIf="galeriaValidate" class="text-danger">Ingresa una galería de imágenes</small>
                  </div>

                  <div class="form-group mb-4">
                    <label for="exampleFormControlFile1">Agregar Documentos</label>
                    <input type="file" multiple="" (change)="uploadDocument($event)" class="form-control-file" id="exampleFormControlFile1"
                    [class.is-invalid]="documentValidate" autocomplete="text">
                    <small *ngIf="documentValidate" class="text-danger">Ingrese los documentos</small>
                  </div>

                  <button type="submit" class="btn btn-primary">Enviar</button>
                  <button type="submit" [routerLink]="['/admin/proveedores']" class="btn btn-danger ml-4">Regresar</button>
                </form>

              </div>

            </div>
        </div>

  </div>
  <!-- /.content-wrapper -->



  <!-- Main Footer -->
  <app-footerdash></app-footerdash>

</div>
  <!-- ./wrapper -->
  
